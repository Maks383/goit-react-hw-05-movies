"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[263],{263:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var r=n(861),a=n(439),u=n(757),o=n.n(u),c=n(791),i=n(87),s=n(243),l=n(393);function f(){return(f=(0,r.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(l.H7,"/search/movie?api_key=").concat(l.$h,"&query=").concat(t,"&language=en-US"),r=s.Z.get(n),e.abrupt("return",r);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}var p=function(e){return f.apply(this,arguments)},h=n(689),v=n(184),m=function(e){var t=e.movieCollection,n=(0,h.TH)();return(0,v.jsx)("ul",{children:t.map((function(e){return(0,v.jsx)("li",{children:(0,v.jsx)(i.rU,{to:"/movies/".concat(e.id),state:{from:n},children:e.original_title})},e.id)}))})},d=function(){var e,t=(0,c.useState)(""),n=(0,a.Z)(t,2),u=n[0],s=n[1],l=(0,c.useState)(null),f=(0,a.Z)(l,2),h=f[0],d=f[1],g=(0,i.lr)(),x=(0,a.Z)(g,2),b=x[0],w=x[1],k=null!==(e=b.get("query"))&&void 0!==e?e:"";(0,c.useEffect)((function(){if(k){var e=function(){var e=(0,r.Z)(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(k);case 2:t=e.sent,n=t.data.results,d(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[k]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("form",{onSubmit:function(e){e.preventDefault(),w(""!==u?{query:u}:{})},autoComplete:"off",children:[(0,v.jsx)("input",{type:"text",value:u,onChange:function(e){var t=e.target.value.toLowerCase();s(t)}}),(0,v.jsx)("button",{type:"submit",children:"Search"})]}),h&&(0,v.jsx)(m,{movieCollection:h})]})}},393:function(e,t,n){n.d(t,{$h:function(){return r},G5:function(){return u},H7:function(){return a}});var r="b881a81ae0034e0912ae6be6c107d550",a="https://api.themoviedb.org/3",u="https://image.tmdb.org/t/p/w300"}}]);
//# sourceMappingURL=263.b7c19f06.chunk.js.map